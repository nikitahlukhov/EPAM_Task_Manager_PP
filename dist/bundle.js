!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=57)}([function(e,t,n){var r=n(13)("wks"),a=n(12),o=n(4).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:a)("Symbol."+e))}).store=r},function(e,t,n){e.exports=!n(10)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(3),a=n(31),o=n(32),s=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(4),a=n(6),o=n(7),s=n(12)("src"),i=n(35),l=(""+i).split("toString");n(8).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var c="function"==typeof n;c&&(o(n,"name")||a(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||a(n,s,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:i?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||i.call(this)}))},function(e,t,n){var r=n(2),a=n(11);e.exports=n(1)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(8),a=n(4),o=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports={}},function(e,t,n){var r=n(13)("keys"),a=n(12);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){var r=n(2).f,a=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in a||n(1)&&r(a,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var r=n(9),a=n(4).document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){e.exports=!1},function(e,t,n){var r=n(23),a=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(4),a=n(8),o=n(6),s=n(5),i=n(25),l=function(e,t,n){var c,u,d,f,m=e&l.F,p=e&l.G,g=e&l.S,v=e&l.P,y=e&l.B,h=p?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,E=p?a:a[t]||(a[t]={}),k=E.prototype||(E.prototype={});for(c in p&&(n=t),n)d=((u=!m&&h&&void 0!==h[c])?h:n)[c],f=y&&u?i(d,r):v&&"function"==typeof d?i(Function.call,d):d,h&&s(h,c,d,e&l.U),E[c]!=d&&o(E,c,f),v&&k[c]!=d&&(k[c]=d)};r.core=a,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(40);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(46),a=n(15);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(14),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2).f,a=n(7),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(15);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports=!n(1)&&!n(10)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";n(34);var r=n(3),a=n(20),o=n(1),s=/./.toString,i=function(e){n(5)(RegExp.prototype,"toString",e,!0)};n(10)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?i((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?a.call(e):void 0)})):"toString"!=s.name&&i((function(){return s.call(this)}))},function(e,t,n){n(1)&&"g"!=/./g.flags&&n(2).f(RegExp.prototype,"flags",{configurable:!0,get:n(20)})},function(e,t,n){e.exports=n(13)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var r=n(22),a={};a[n(0)("toStringTag")]="z",a+""!="[object z]"&&n(5)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){"use strict";var r=n(38)(!0);n(39)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(14),a=n(15);e.exports=function(e){return function(t,n){var o,s,i=String(a(t)),l=r(n),c=i.length;return l<0||l>=c?e?"":void 0:(o=i.charCodeAt(l))<55296||o>56319||l+1===c||(s=i.charCodeAt(l+1))<56320||s>57343?e?i.charAt(l):o:e?i.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(21),a=n(24),o=n(5),s=n(6),i=n(16),l=n(41),c=n(29),u=n(50),d=n(0)("iterator"),f=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,p,g,v,y){l(n,t,p);var h,E,k,b=function(e){if(!f&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",S="values"==g,w=!1,_=e.prototype,C=_[d]||_["@@iterator"]||g&&_[g],N=C||b(g),O=g?S?b("entries"):N:void 0,L="Array"==t&&_.entries||C;if(L&&(k=u(L.call(new e)))!==Object.prototype&&k.next&&(c(k,x,!0),r||"function"==typeof k[d]||s(k,d,m)),S&&C&&"values"!==C.name&&(w=!0,N=function(){return C.call(this)}),r&&!y||!f&&!w&&_[d]||s(_,d,N),i[t]=N,i[x]=m,g)if(h={values:S?N:b("values"),keys:v?N:b("keys"),entries:O},y)for(E in h)E in _||o(_,E,h[E]);else a(a.P+a.F*(f||w),t,h);return h}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(42),a=n(11),o=n(29),s={};n(6)(s,n(0)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:a(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(3),a=n(43),o=n(28),s=n(17)("IE_PROTO"),i=function(){},l=function(){var e,t=n(19)("iframe"),r=o.length;for(t.style.display="none",n(49).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(i.prototype=r(e),n=new i,i.prototype=null,n[s]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(2),a=n(3),o=n(44);e.exports=n(1)?Object.defineProperties:function(e,t){a(e);for(var n,s=o(t),i=s.length,l=0;i>l;)r.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var r=n(45),a=n(28);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){var r=n(7),a=n(26),o=n(47)(!1),s=n(17)("IE_PROTO");e.exports=function(e,t){var n,i=a(e),l=0,c=[];for(n in i)n!=s&&r(i,n)&&c.push(n);for(;t.length>l;)r(i,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(23);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(26),a=n(27),o=n(48);e.exports=function(e){return function(t,n,s){var i,l=r(t),c=a(l.length),u=o(s,c);if(e&&n!=n){for(;c>u;)if((i=l[u++])!=i)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(14),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):o(e,t)}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(7),a=n(30),o=n(17)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var r=n(25),a=n(24),o=n(30),s=n(52),i=n(53),l=n(27),c=n(54),u=n(55);a(a.S+a.F*!n(56)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,a,d,f=o(e),m="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,y=0,h=u(f);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),null==h||m==Array&&i(h))for(n=new m(t=l(f.length));t>y;y++)c(n,y,v?g(f[y],y):f[y]);else for(d=h.call(f),n=new m;!(a=d.next()).done;y++)c(n,y,v?s(d,g,[a.value,y],!0):a.value);return n.length=y,n}})},function(e,t,n){var r=n(3);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(16),a=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){"use strict";var r=n(2),a=n(11);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var r=n(22),a=n(0)("iterator"),o=n(16);e.exports=n(8).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(0)("iterator"),a=!1;try{var o=[7][r]();o.return=function(){a=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){"use strict";n.r(t);n(18);n(33),n(36),n(37),n(51);document.getElementById("logout").addEventListener("click",(function(){var e=JSON.parse(window.localStorage.users);if(e)for(var t=0;t<e.length;t++)if(1==e[t].loggedIn){e[t].loggedIn=!1,window.localStorage.users=JSON.stringify(e);for(var n=document.querySelectorAll("main > *"),r=0;r<n.length;r++)n[r].style.display="none";document.getElementById("logged_in").style.display="none",document.getElementById("logged_out").style.display="block",document.querySelector(".carousel-wrapper").style.display="block",event.preventDefault()}})),function(){var e=document.getElementById("sign_in"),t=document.querySelector(".carousel-wrapper"),n=document.querySelector(".sign_in_page"),r=document.querySelector(".sign_in_wrapper form"),a=document.getElementById("sign_in_login"),o=document.getElementById("sign_in_password"),s=document.getElementById("sign_in_button"),i=document.getElementById("sign_up"),l=document.querySelector(".sign_up_wrapper form"),c=document.getElementById("sign_up_login"),u=document.getElementById("sign_up_password"),d=document.getElementById("sign_up_email"),f=document.getElementById("save");function m(){for(var e=document.querySelectorAll("input"),t=0;t<e.length;t++)e[t].value=""}function p(e){for(var t=JSON.parse(window.localStorage.users),n=0;n<t.length;n++)if(e.name==t[n].name)return!0}function g(e){for(var t=JSON.parse(window.localStorage.users),n=0;n<t.length;n++)if(e.email==t[n].email)return!0}function v(){"P"==r.lastElementChild.tagName&&(r.lastElementChild.remove(),event.preventDefault())}function y(){"P"==l.lastElementChild.tagName&&(l.lastElementChild.remove(),event.preventDefault())}function h(e){var t=document.createElement("p");t.innerText=e,t.style.color="red","BUTTON"==l.lastElementChild.tagName&&l.appendChild(t),event.preventDefault()}function E(e){var t=document.createElement("p");t.innerText=e,t.style.color="red","BUTTON"==r.lastElementChild.tagName&&r.appendChild(t),event.preventDefault()}function k(){for(var e=document.querySelectorAll("main > *"),t=0;t<e.length;t++)e[t].style.display="none"}e.addEventListener("click",(function(){k(),l.style.display="none",n.style.display="flex",r.style.display="flex",y()})),s.addEventListener("click",(function(){""!=a.value&&""!=o.value||(E("Please Fill in both forms"),m(),event.preventDefault());for(var e=[],t=JSON.parse(window.localStorage.users),n=0;n<t.length;n++)e.push(t[n].name),e.push(t[n].password),a.value==t[n].name&&o.value==t[n].password&&1==t[n].isAdmin?(m(),t[n].loggedIn=!0,window.localStorage.users=JSON.stringify(t),document.getElementById("logged_out").style.display="none",k(),document.getElementById("task_wrapper").style.display="block",document.getElementById("logged_in").style.display="block",event.preventDefault()):a.value==t[n].name&&o.value==t[n].password&&(m(),t[n].loggedIn=!0,window.localStorage.users=JSON.stringify(t),document.getElementById("logged_out").style.display="none",k(),document.getElementById("task_wrapper").style.display="block",document.getElementById("logged_in").style.display="block",event.preventDefault());""!=a.value&&""!=o.value&&(-1==e.indexOf(a.value)||-1==e.indexOf(o.value)||-1==e.indexOf(a.value)&&-1==e.indexOf(o.value))&&(m(),E("Username or password is wrong"))})),a.addEventListener("focus",v),o.addEventListener("focus",v),c.addEventListener("focus",y),u.addEventListener("focus",y),d.addEventListener("focus",y),i.addEventListener("click",(function(){r.style.display="none",l.style.display="flex",v(),event.preventDefault()})),f.addEventListener("click",(function(){""!=c.value&&""!=u.value&&""!=d.value||h("Please Fill in all forms");var e={name:c.value,password:u.value,email:d.value,loggedIn:!1};if(window.localStorage.users&&""!=c.value&&""!=u.value&&""!=d.value){var a=JSON.parse(window.localStorage.users);p(e)?(h("User with such login already exist"),m(),event.preventDefault()):g(e)?(h("User with such email already exist"),m(),event.preventDefault()):p(e)||g(e)||(a.push(e),window.localStorage.users=JSON.stringify(a),t.style.display="none",l.style.display="none",n.style.display="flex",r.style.display="flex",m(),event.preventDefault())}}))}(),function(){for(var e=document.querySelectorAll(".contacts_nav"),t=document.querySelector(".contacts"),n=0;n<e.length;n++)e[n].addEventListener("click",(function(){for(var e=document.querySelectorAll("main > *"),n=0;n<e.length;n++)e[n].style.display="none";t.style.display="flex"}))}();for(var r=document.querySelectorAll(".home_button"),a=0;a<r.length;a++)r[a].addEventListener("click",(function(){for(var e=document.querySelectorAll("main > *"),t=0;t<e.length;t++)e[t].style.display="none";document.querySelector(".carousel-wrapper").style.display="flex"}));if(!window.localStorage.users){window.localStorage.users=JSON.stringify([{name:"admin",password:"admin",email:"admin@gmail.com",messages:{sentMessages:[],inboxMessages:[]},isAdmin:!0,loggedIn:!1},{name:"vanya",password:"vanya",email:"admin@gmail.com",loggedIn:!1,messages:{sentMessages:[],inboxMessages:[]}},{name:"nikita",password:"nikita",email:"admin@gmail.com",loggedIn:!1,messages:{sentMessages:[],inboxMessages:[]}},{name:"vova",password:"vova",email:"admin@gmail.com",loggedIn:!1,messages:{sentMessages:[],inboxMessages:[]}}])}if(!window.localStorage.tasks){window.localStorage.tasks=JSON.stringify([])}function o(){for(var e=JSON.parse(window.localStorage.users),t=0;t<e.length;t++)if(0!=e[t].loggedIn)return 1==e[t].loggedIn}o()?document.getElementById("logged_out").style.display="none":o()||(document.getElementById("logged_in").style.display="none"),function(){var e,t,n,r=document.getElementById("tasks_button"),a=JSON.parse(window.localStorage.tasks),o=JSON.parse(window.localStorage.users),s=document.getElementById("nav_profile");if(o)for(var i=0;i<o.length;i++)1==o[i].loggedIn&&(e=o[i],s.childNodes[0].textContent=e.name,t=o[i].messages.sentMessages,n=o[i].messages.inboxMessages);r.addEventListener("click",(function(){N("main"),document.getElementById("tasks_wrapper").style.display="block"}));var l=document.querySelector("#task-list ul"),c=document.forms,u=document.getElementById("select_task");!function(){for(var t=0;t<o.length;t++)if("admin"!=o[t].name&&o.length<=23){var n=document.createElement("option");n.innerText=o[t].name,u.appendChild(n),u.setAttribute("size",o.length-1)}else if("admin"!=o[t].name&&o.length>22){var r=document.createElement("option");r.innerText=o[t].name,u.appendChild(r),u.setAttribute("size","22")}for(var s=function(t){var n=a[t].name,r=document.createElement("li"),o=document.createElement("span"),s=document.createElement("span");s.style.color="red";var i=document.createElement("span"),u=a.indexOf(a[t]);r.setAttribute("value",u);var d=document.createElement("li"),f=document.createElement("ul"),m=document.createElement("input");if(m.setAttribute("type","checkbox"),m.classList.add("check"),m.checked=a[t].checked,a[t].contributors.forEach((function(e){d.textContent+="".concat(e," ")})),"admin"!=e.name)for(var p=0;p<a[t].contributors.length&&a[t].contributors[p]!=e.name;p++)r.classList.add("invis_task");if(o.textContent=n,s.textContent=a[t].progress+"%",i.textContent="delete",o.classList.add("name"),i.classList.add("delete"),r.classList.add("task"),r.classList.add(a[t].status),f.classList.add("sub_task_invis"),m.setAttribute("value","100"),m.classList.add("doneTask"),a[t].subTasks.length>0)for(var g=(100/a[t].subTasks.length).toFixed(),v=0;v<a[t].subTasks.length;v++){var y=document.createElement("li"),h=document.createElement("input");h.setAttribute("type","checkbox"),h.setAttribute("value",g);var E=document.createElement("span"),k=document.createElement("span");E.textContent=a[t].subTasks[v].name,h.checked=a[t].subTasks[v].checked,h.classList.add("check"),h.classList.add("addValue"),y.classList.add(a[t].subTasks[v].status),k.textContent="delete",E.classList.add("name"),k.classList.add("delete"),y.appendChild(E),y.appendChild(h),y.appendChild(k),f.appendChild(y)}if(r.appendChild(o),r.appendChild(m),r.appendChild(s),r.appendChild(i),l.appendChild(r),r.appendChild(f),d.textContent&&f.appendChild(d),"admin"!==e.name){N("#tasks_wrapper header .page-banner"),c["search-tasks"].style.display="block";var b=document.querySelectorAll(".check");document.querySelectorAll(".delete").forEach((function(e){e.style.display="none"})),b.forEach((function(e){e.classList.remove("check")}))}},i=0;i<a.length;i++)s(i)}(),l.addEventListener("click",(function(e){if("delete"==e.target.className){var t=e.target.parentElement,n=(t.parentElement,t.getAttribute("value"));if("task undone"==t.className||"task done"==t.className)a.splice(n,1);else if("task undone"!=t.className||"task done"!=t.className){var r=e.target.parentElement.parentElement.parentElement,o=r.parentElement,s=Array.from(o.children).indexOf(r),i=e.target.parentElement,l=i.parentElement,c=Array.from(l.children).indexOf(i);a[s].subTasks.splice(c,1)}t.parentNode.removeChild(t),window.localStorage.tasks=JSON.stringify(a)}else if("task undone"==e.target.className||"task done"==e.target.className)e.target.lastChild.classList.toggle("sub_task_invis");else if("addValue"==e.target.className){var u=e.target.parentElement.parentElement.parentElement,d=u.childNodes[4].childNodes,f=+u.childNodes[2].innerText.slice(0,-1),m=+e.target.getAttribute("value"),p=u.getAttribute("value"),g=Array.from(e.target.parentElement.parentElement.children).indexOf(e.target.parentElement);if(e.target.checked){console.log(g),e.target.parentElement.className="done",a[p].subTasks[g].status="done",a[p].subTasks[g].checked=!0,a[p].progress=m,window.localStorage.tasks=JSON.stringify(a);for(var v=0,y=0;y<d.length-1;y++)d[y].childNodes[1].checked||(v+=1);0==v?(u.childNodes[1].checked=!0,u.childNodes[2].innerText="100%",u.className="task done",a[p].status="done",a[p].progress=100,a[p].checked=!0,window.localStorage.tasks=JSON.stringify(a)):(u.childNodes[2].innerText=f+m+"%",a[p].progress=f+m,window.localStorage.tasks=JSON.stringify(a))}else if(!e.target.checked){e.target.parentElement.className="undone",a[p].subTasks[g].status="undone",a[p].subTasks[g].checked=!1,a[p].progress=f-m,window.localStorage.tasks=JSON.stringify(a);for(var h=0,E=0;E<d.length-1;E++)d[E].childNodes[1].checked&&(h+=1);0==h?(u.childNodes[2].innerText="0%",u.className="task undone",a[p].status="undone",a[p].checked=!1,a[p].progress=0,window.localStorage.tasks=JSON.stringify(a)):(u.childNodes[1].checked=!1,a[p].checked=!1,window.localStorage.tasks=JSON.stringify(a),u.childNodes[2].innerText=f-m+"%")}}else if("doneTask"==e.target.className){var k=e.target.parentElement,b=k.getAttribute("value");if(e.target.checked){for(var x=k.childNodes[4].childNodes,S=0;S<x.length-1;S++)x[S].childNodes[1].checked=!0,x[S].childNodes[1].parentElement.className="done";a[b].subTasks.forEach((function(e){return e.checked=!0,e.status="done"})),k.className="task done",k.childNodes[2].innerText="100%",k.className="task done",a[b].progress=100,a[b].status="done",a[b].progress=100,a[b].checked=!0,window.localStorage.tasks=JSON.stringify(a)}else if(!e.target.checked){for(var w=k.childNodes[4].childNodes,_=0;_<w.length-1;_++)w[_].childNodes[1].checked=!1,w[_].childNodes[1].parentElement.className="undone";a[b].subTasks.forEach((function(e){return e.status="undone",e.checked=!1})),k.className="task undone",k.childNodes[2].innerText="0%",a[b].progress=0,a[b].status="undone",a[b].checked=!1,a[b].progress=0,window.localStorage.tasks=JSON.stringify(a)}}})),c["add-task"].addEventListener("click",(function(e){if("delete_subtask"==e.target.className){var t=e.target.parentNode,n=e.target.previousElementSibling,r=e.target;t.removeChild(n),t.removeChild(r),e.preventDefault()}}));var d=c["add-task"],f=document.getElementById("add_task_button");document.getElementById("add_subtask_button").addEventListener("click",(function(e){var t=document.createElement("input");t.setAttribute("placeholder","Add a subtask..."),t.setAttribute("type","text");var n=document.createElement("button");n.innerText="delete",n.setAttribute("class","delete_subtask"),d.appendChild(t),d.appendChild(n),e.preventDefault()})),f.addEventListener("click",(function(e){e.preventDefault();var t=d.querySelector('input[type="text"]').value,n=d.querySelectorAll('input[type="text"]'),r=document.createElement("li"),o=document.createElement("li"),s=document.createElement("span"),i=document.createElement("span");i.style.color="red";var c=document.createElement("span"),f=document.createElement("ul"),m=Array.from(u.options).filter((function(e){return e.selected})).map((function(e){return e.value}));if(t&&m.length>0){var p={};p.name=t,p.progress=0,p.subTasks=[],p.contributors=[],p.status="undone",p.checked=!1,s.textContent=t,i.textContent="0%",c.textContent="delete",m.forEach((function(e){p.contributors.push(e),o.textContent+="".concat(e," ")})),c.classList.add("delete"),r.classList.add("task"),r.classList.add("undone"),f.classList.add("sub_task_invis");for(var g=1;g<n.length;g++)if(n[g].value){var v={};v.name=n[g].value,v.status="undone",v.checked=!1,p.subTasks.push(v);var y=document.createElement("li"),h=document.createElement("span"),E=document.createElement("span");h.textContent=n[g].value,E.textContent="delete",h.classList.add("name"),E.classList.add("delete"),y.appendChild(h),y.appendChild(E),y.classList.add("undone"),f.appendChild(y)}r.appendChild(s),r.appendChild(i),r.appendChild(c),l.appendChild(r),r.appendChild(f),o.textContent&&f.appendChild(o),d.querySelectorAll('input[type="text"]').forEach((function(e){e.value=""})),a.push(p),window.localStorage.tasks=JSON.stringify(a)}})),c["search-tasks"].querySelector("input").addEventListener("keyup",(function(e){e.target.value.toLowerCase();for(var t=Array.from(l.getElementsByTagName("li")),n=0;n<t.length-1;n++){-1!=t[n].firstElementChild.textContent.toLowerCase().indexOf(e.target.value)?t[n].style.display="block":t[n].style.display="none"}}));var m=document.getElementById("message-list_sent"),p=document.getElementById("message-list_inbox"),g=document.querySelector("#message-list_sent ul"),v=document.querySelector("#message-list_inbox ul"),y=document.getElementById("select_message");function h(e,t){if("delete"==t.target.className){var n=t.target.parentElement,r=n.parentElement,a=Array.from(r.children).indexOf(n);n.parentNode.removeChild(n),e.splice(a,1),window.localStorage.users=JSON.stringify(o)}else if("message unseen"==t.target.className){var s=t.target.parentElement,i=Array.from(s.children).indexOf(t.target);console.log("message-list_inbox"==s.parentElement.getAttribute("id")),"message-list_inbox"==s.parentElement.getAttribute("id")&&(t.target.classList.remove("unseen"),t.target.classList.add("seen"),e[i].status="seen"),t.target.childNodes[1].classList.toggle("sub_task_invis"),t.target.lastChild.classList.toggle("sub_task_invis"),window.localStorage.users=JSON.stringify(o)}else"message seen"==t.target.className&&(t.target.lastChild.classList.toggle("sub_task_invis"),t.target.childNodes[1].classList.toggle("sub_task_invis"))}document.getElementById("messages_button").addEventListener("click",(function(){N("main"),document.getElementById("messages_wrapper").style.display="block"})),C(t,g),C(n,v),g.addEventListener("click",(function(e){h(t,e)})),v.addEventListener("click",(function(e){h(n,e)})),c["add-message"],document.getElementById("add_message_button").addEventListener("click",(function(t){t.preventDefault();var n=document.getElementById("message_subject").value,r=document.createElement("li"),a=document.createElement("p");a.textContent="To: ";var s=document.createElement("span"),i=document.createElement("p"),l=document.getElementById("message_text").value,c=document.createElement("span"),u=document.createElement("span"),d=(new Date).toLocaleString("en-US",{month:"short",day:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric",hour12:!1}).toString(),f=document.createElement("span"),m=document.createElement("div"),p=Array.from(y.options).filter((function(e){return e.selected})).map((function(e){return e.value}));if(l&&p.length>0){var v={contributors:[],status:"unseen"};v.fromWhom=e.name,v.date=d,n?s.textContent="Subject: ".concat(n):n||(s.textContent="(no subject)"),v.subject=n,v.message=l,i.textContent=l,c.textContent=l,u.textContent=d,f.textContent="delete",p.forEach((function(e){for(var t=0;t<o.length;t++)o[t].name==e&&o[t].messages.inboxMessages.push(v);v.contributors.push(e),a.textContent+="".concat(e," ")})),f.classList.add("delete"),r.classList.add("message"),r.classList.add("unseen"),m.classList.add("sub_task_invis"),r.appendChild(s),r.appendChild(c),r.appendChild(u),r.appendChild(f),m.appendChild(a),m.appendChild(i),r.appendChild(m),g.appendChild(r),document.getElementById("message_text").value="",document.getElementById("message_subject").value="",e.messages.sentMessages.push(v),window.localStorage.users=JSON.stringify(o)}}));var E=document.getElementById("sent_message_button"),k=document.getElementById("inbox_message_button");E.addEventListener("click",(function(){p.className="sub_task_invis",m.className="",event.preventDefault()})),k.addEventListener("click",(function(){m.className="sub_task_invis",p.className="",event.preventDefault()}));for(var b=0;b<o.length;b++)if(0==o[b].loggedIn&&o.length<=23){var x=document.createElement("option");x.innerText=o[b].name,y.appendChild(x),y.setAttribute("size",o.length-1)}else if(0==o[b].loggedIn&&o.length>22){var S=document.createElement("option");S.innerText=o[b].name,y.appendChild(S),y.setAttribute("size","22")}c["search-messages"].querySelector("input").addEventListener("keyup",(function(e){e.target.value.toLowerCase();var t=Array.from(g.getElementsByTagName("li")),n=Array.from(v.getElementsByTagName("li"));(t=t.concat(n)).forEach((function(t){var n=t.firstElementChild.textContent.slice(9),r=t.childNodes[1].textContent;-1!=n.toLowerCase().indexOf(e.target.value)||-1!=r.toLowerCase().indexOf(e.target.value)?t.style.display="block":t.style.display="none"}))}));var w=document.getElementById("unseen"),_=document.getElementById("seen");function C(t,n){if(t)for(var r=function(r){var a=void 0;t[r].fromWhom!==e.name&&((a=document.createElement("p")).textContent="From: ".concat(t[r].fromWhom));var o=t[r].subject,s=document.createElement("li"),i=document.createElement("p");i.textContent="To: ";var l=document.createElement("span"),c=document.createElement("p"),u=t[r].message,d=document.createElement("span"),f=document.createElement("span"),m=document.createElement("div"),p=document.createElement("span");o?l.textContent="Subject: ".concat(o):o||(l.textContent="(no subject)"),c.textContent=u,d.textContent=u,f.textContent="delete",p.textContent=t[r].date,t[r].contributors.forEach((function(e){i.textContent+="".concat(e," ")})),f.classList.add("delete"),s.classList.add("message"),s.classList.add(t[r].status),m.classList.add("sub_task_invis"),s.appendChild(l),s.appendChild(d),s.appendChild(p),s.appendChild(f),a&&m.appendChild(a),m.appendChild(i),m.appendChild(c),s.appendChild(m),n.appendChild(s)},a=0;a<t.length;a++)r(a)}function N(e){for(var t=document.querySelectorAll(e+" > *"),n=0;n<t.length;n++)t[n].style.display="none"}w.addEventListener("click",(function(){var e=Array.from(v.getElementsByTagName("li"));w.checked?e.forEach((function(e){"message unseen"==e.className&&(e.style.display="block")})):w.checked||e.forEach((function(e){"message unseen"==e.className&&(e.style.display="none")}))})),_.addEventListener("click",(function(){var e=Array.from(v.getElementsByTagName("li"));_.checked?e.forEach((function(e){"message seen"==e.className&&(e.style.display="block")})):_.checked||e.forEach((function(e){"message seen"==e.className&&(e.style.display="none")}))}))}();var s=document.getElementById("share_button"),i=document.getElementById("share_link_copy"),l=document.getElementById("share_link_container"),c=l.getElementsByTagName("SPAN")[0];s.addEventListener("click",(function(){var e,t;l.style.display="block",urlCopied.innerHTML=window.location.href,e="urlCopied",(t=document.createRange()).selectNode(document.getElementById(e)),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)})),i.addEventListener("click",(function(){document.execCommand("copy")})),c.addEventListener("click",(function(){l.style.display="none"}))}]);