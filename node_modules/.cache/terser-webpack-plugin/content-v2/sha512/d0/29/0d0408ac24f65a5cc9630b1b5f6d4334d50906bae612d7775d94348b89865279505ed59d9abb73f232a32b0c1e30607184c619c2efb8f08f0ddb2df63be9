{"code":"!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.index-of'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.function.name'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.filter'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.for-each'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.from'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.index-of'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.map'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.array.splice'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.function.name'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/es.string.iterator'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'core-js/modules/web.dom-collections.for-each'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),document.getElementById(\"logout\").addEventListener(\"click\",(function(){for(var e=JSON.parse(window.localStorage.users),t=0;t<e.length;t++)if(1==e[t].loggedIn){e[t].loggedIn=!1,window.localStorage.users=JSON.stringify(e);for(var n=document.querySelectorAll(\"main > *\"),a=0;a<n.length;a++)n[a].style.display=\"none\";document.getElementById(\"logged_in\").style.display=\"none\",document.getElementById(\"logged_out\").style.display=\"block\",document.querySelector(\".carousel-wrapper\").style.display=\"block\",event.preventDefault()}})),function(){var e=document.getElementById(\"sign_in\"),t=document.querySelector(\".carousel-wrapper\"),n=document.querySelector(\".sign_in_page\"),a=document.querySelector(\".sign_in_wrapper form\"),l=document.getElementById(\"sign_in_login\"),s=document.getElementById(\"sign_in_password\"),o=document.getElementById(\"sign_in_button\"),r=document.getElementById(\"sign_up\"),d=document.querySelector(\".sign_up_wrapper form\"),i=document.getElementById(\"sign_up_login\"),c=document.getElementById(\"sign_up_password\"),u=document.getElementById(\"sign_up_email\"),m=document.getElementById(\"save\");function p(){for(var e=document.querySelectorAll(\"input\"),t=0;t<e.length;t++)e[t].value=\"\"}function g(e){for(var t=JSON.parse(window.localStorage.users),n=0;n<t.length;n++)if(e.name==t[n].name)return!0}function f(e){for(var t=JSON.parse(window.localStorage.users),n=0;n<t.length;n++)if(e.email==t[n].email)return!0}function v(){\"P\"==a.lastElementChild.tagName&&(a.lastElementChild.remove(),event.preventDefault())}function y(){\"P\"==d.lastElementChild.tagName&&(d.lastElementChild.remove(),event.preventDefault())}function E(e){var t=document.createElement(\"p\");t.innerText=e,t.style.color=\"red\",\"BUTTON\"==d.lastElementChild.tagName&&d.appendChild(t),event.preventDefault()}function h(e){var t=document.createElement(\"p\");t.innerText=e,t.style.color=\"red\",\"BUTTON\"==a.lastElementChild.tagName&&a.appendChild(t),event.preventDefault()}function _(){for(var e=document.querySelectorAll(\"main > *\"),t=0;t<e.length;t++)e[t].style.display=\"none\"}e.addEventListener(\"click\",(function(){_(),d.style.display=\"none\",n.style.display=\"flex\",a.style.display=\"flex\",y()})),o.addEventListener(\"click\",(function(){\"\"!=l.value&&\"\"!=s.value||(h(\"Please Fill in both forms\"),p(),event.preventDefault());for(var e=[],t=JSON.parse(window.localStorage.users),n=0;n<t.length;n++)e.push(t[n].name),e.push(t[n].password),l.value==t[n].name&&s.value==t[n].password&&1==t[n].isAdmin?(p(),t[n].loggedIn=!0,window.localStorage.users=JSON.stringify(t),document.getElementById(\"logged_out\").style.display=\"none\",_(),document.getElementById(\"task_wrapper\").style.display=\"block\",document.getElementById(\"logged_in\").style.display=\"block\",event.preventDefault()):l.value==t[n].name&&s.value==t[n].password&&(p(),t[n].loggedIn=!0,window.localStorage.users=JSON.stringify(t),document.getElementById(\"logged_out\").style.display=\"none\",_(),document.getElementById(\"task_wrapper\").style.display=\"block\",document.getElementById(\"logged_in\").style.display=\"block\",event.preventDefault());\"\"!=l.value&&\"\"!=s.value&&(-1==e.indexOf(l.value)||-1==e.indexOf(s.value)||-1==e.indexOf(l.value)&&-1==e.indexOf(s.value))&&(p(),h(\"Username or password is wrong\"))})),l.addEventListener(\"focus\",v),s.addEventListener(\"focus\",v),i.addEventListener(\"focus\",y),c.addEventListener(\"focus\",y),u.addEventListener(\"focus\",y),r.addEventListener(\"click\",(function(){a.style.display=\"none\",d.style.display=\"flex\",v(),event.preventDefault()})),m.addEventListener(\"click\",(function(){\"\"!=i.value&&\"\"!=c.value&&\"\"!=u.value||E(\"Please Fill in all forms\");var e={name:i.value,password:c.value,email:u.value,loggedIn:!1};if(window.localStorage.users&&\"\"!=i.value&&\"\"!=c.value&&\"\"!=u.value){var l=JSON.parse(window.localStorage.users);g(e)?(E(\"User with such login already exist\"),p(),event.preventDefault()):f(e)?(E(\"User with such email already exist\"),p(),event.preventDefault()):g(e)||f(e)||(l.push(e),window.localStorage.users=JSON.stringify(l),t.style.display=\"none\",d.style.display=\"none\",n.style.display=\"flex\",a.style.display=\"flex\",p(),event.preventDefault())}}))}(),function(){for(var e=document.querySelectorAll(\".contacts_nav\"),t=document.querySelector(\".contacts\"),n=0;n<e.length;n++)e[n].addEventListener(\"click\",(function(){for(var e=document.querySelectorAll(\"main > *\"),n=0;n<e.length;n++)e[n].style.display=\"none\";t.style.display=\"flex\"}))}();for(var a=document.querySelectorAll(\".home_button\"),l=0;l<a.length;l++)a[l].addEventListener(\"click\",(function(){for(var e=document.querySelectorAll(\"main > *\"),t=0;t<e.length;t++)e[t].style.display=\"none\";document.querySelector(\".carousel-wrapper\").style.display=\"flex\"}));if(function(){for(var e,t,n=document.getElementById(\"tasks_button\"),a=JSON.parse(window.localStorage.tasks),l=JSON.parse(window.localStorage.users),s=0;s<l.length;s++)1==l[s].loggedIn&&(e=l[s],t=l[s].messages.sentMessages);n.addEventListener(\"click\",(function(){p(),document.getElementById(\"tasks_wrapper\").style.display=\"block\"}));var o=document.querySelector(\"#task-list ul\"),r=document.forms,d=document.getElementById(\"select_task\");o.addEventListener(\"click\",(function(e){if(\"delete\"==e.target.className){var t=e.target.parentElement,n=t.parentElement,l=Array.from(n.children).indexOf(t);if(\"task\"==t.className)a.splice(l,1);else if(\"task\"!=t.className){var s=e.target.parentElement.parentElement.parentElement,o=s.parentElement,r=Array.from(o.children).indexOf(s),d=e.target.parentElement,i=d.parentElement,c=Array.from(i.children).indexOf(d);a[r].subTasks.splice(c,1)}t.parentNode.removeChild(t),window.localStorage.tasks=JSON.stringify(a)}else\"task\"==e.target.className&&e.target.lastChild.classList.toggle(\"sub_task_invis\")})),r[\"add-task\"].addEventListener(\"click\",(function(e){if(\"delete_subtask\"==e.target.className){var t=e.target.parentNode,n=e.target.previousElementSibling,a=e.target;t.removeChild(n),t.removeChild(a),e.preventDefault()}}));var i=r[\"add-task\"],c=document.getElementById(\"add_task_button\");document.getElementById(\"add_subtask_button\").addEventListener(\"click\",(function(e){var t=document.createElement(\"input\");t.setAttribute(\"placeholder\",\"Add a subtask...\"),t.setAttribute(\"type\",\"text\");var n=document.createElement(\"button\");n.innerText=\"delete\",n.setAttribute(\"class\",\"delete_subtask\"),i.appendChild(t),i.appendChild(n),e.preventDefault()})),c.addEventListener(\"click\",(function(e){e.preventDefault();var t=i.querySelector('input[type=\"text\"]').value,n=i.querySelectorAll('input[type=\"text\"]'),l=document.createElement(\"li\"),s=document.createElement(\"li\"),r=document.createElement(\"span\"),c=document.createElement(\"span\"),u=document.createElement(\"ul\");if(t){var m={};m.name=t,m.subTasks=[],m.contributors=[],r.textContent=t,c.textContent=\"delete\",Array.from(d.options).filter((function(e){return e.selected})).map((function(e){return e.value})).forEach((function(e){m.contributors.push(e),s.textContent+=e+\"\"})),c.classList.add(\"delete\"),l.classList.add(\"task\"),u.classList.add(\"sub_task_invis\");for(var p=1;p<n.length;p++)if(n[p].value){m.subTasks.push(n[p].value);var g=document.createElement(\"li\"),f=document.createElement(\"span\"),v=document.createElement(\"span\");f.textContent=n[p].value,v.textContent=\"delete\",f.classList.add(\"name\"),v.classList.add(\"delete\"),g.appendChild(f),g.appendChild(v),u.appendChild(g)}l.appendChild(r),l.appendChild(c),o.appendChild(l),l.appendChild(u),s.textContent&&u.appendChild(s),i.querySelectorAll('input[type=\"text\"]').forEach((function(e){e.value=\"\"})),a.push(m),window.localStorage.tasks=JSON.stringify(a)}})),r[\"search-tasks\"].querySelector(\"input\").addEventListener(\"keyup\",(function(e){e.target.value.toLowerCase();var t=o.getElementsByTagName(\"li\");Array.from(t).forEach((function(t){-1!=t.firstElementChild.textContent.toLowerCase().indexOf(e.target.value)?t.style.display=\"block\":t.style.display=\"none\"}))}));var u=document.querySelector(\"#message-list ul\"),m=document.getElementById(\"select_message\");function p(){for(var e=document.querySelectorAll(\"main > *\"),t=0;t<e.length;t++)e[t].style.display=\"none\"}document.getElementById(\"messages_button\").addEventListener(\"click\",(function(){p(),document.getElementById(\"messages_wrapper\").style.display=\"block\"})),u.addEventListener(\"click\",(function(e){var n=e.target.parentElement;if(\"delete\"==e.target.className){var a=n.parentElement,s=Array.from(a.children).indexOf(n);n.parentNode.removeChild(n),t.splice(s,1),window.localStorage.users=JSON.stringify(l)}else if(\"message unseen\"==e.target.className){var o=Array.from(n.children).indexOf(e.target);e.target.classList.remove(\"unseen\"),e.target.classList.add(\"seen\"),t[o].status=\"seen\",e.target.childNodes[1].classList.toggle(\"sub_task_invis\"),e.target.lastChild.classList.toggle(\"sub_task_invis\"),window.localStorage.users=JSON.stringify(l)}else\"message seen\"==e.target.className&&(e.target.lastChild.classList.toggle(\"sub_task_invis\"),e.target.childNodes[1].classList.toggle(\"sub_task_invis\"))})),r[\"add-message\"],document.getElementById(\"add_message_button\").addEventListener(\"click\",(function(t){t.preventDefault();var n=document.getElementById(\"message_subject\").value,a=document.createElement(\"li\"),s=document.createElement(\"p\");s.textContent=\"To: \";var o=document.createElement(\"span\"),r=document.createElement(\"p\"),d=document.getElementById(\"message_text\").value,i=document.createElement(\"span\"),c=document.createElement(\"span\"),p=document.createElement(\"div\"),g=Array.from(m.options).filter((function(e){return e.selected})).map((function(e){return e.value}));if(d&&g.length>0){var f={contributors:[],status:\"unseen\"};n?o.textContent=\"Subject:\"+n:n||(o.textContent=\"(no subject)\"),f.subject=n,f.message=d,r.textContent=d,i.textContent=d,c.textContent=\"delete\",g.forEach((function(e){f.contributors.push(e),s.textContent+=\"option\"})),c.classList.add(\"delete\"),a.classList.add(\"message\",\"unseen\"),p.classList.add(\"sub_task_invis\"),a.appendChild(o),a.appendChild(i),a.appendChild(c),p.appendChild(s),p.appendChild(r),a.appendChild(p),u.appendChild(a),document.getElementById(\"message_text\").value=\"\",document.getElementById(\"message_subject\").value=\"\",e.messages.sentMessages.push(f),window.localStorage.users=JSON.stringify(l)}})),function(){for(var e=0;e<l.length;e++)if(\"admin\"!=l[e].name&&l.length<=23){var t=document.createElement(\"option\");t.innerText=l[e].name,d.appendChild(t),d.setAttribute(\"size\",l.length-1)}else if(\"admin\"!=l[e].name&&l.length>22){var n=document.createElement(\"option\");n.innerText=l[e].name,d.appendChild(n),d.setAttribute(\"size\",\"22\")}for(var s=function(e){var t=a[e].name,n=document.createElement(\"li\"),l=document.createElement(\"span\"),s=document.createElement(\"span\"),r=document.createElement(\"li\"),d=document.createElement(\"ul\");if(a[e].contributors.forEach((function(e){r.textContent+=e})),l.textContent=t,s.textContent=\"delete\",l.classList.add(\"name\"),s.classList.add(\"delete\"),n.classList.add(\"task\"),d.classList.add(\"sub_task_invis\"),a[e].subTasks.length>0)for(var i=0;i<a[e].subTasks.length;i++){var c=document.createElement(\"li\"),u=document.createElement(\"span\"),m=document.createElement(\"span\");u.textContent=a[e].subTasks[i],m.textContent=\"delete\",u.classList.add(\"name\"),m.classList.add(\"delete\"),c.appendChild(u),c.appendChild(m),d.appendChild(c)}n.appendChild(l),n.appendChild(s),o.appendChild(n),n.appendChild(d),r.textContent&&d.appendChild(r)},r=0;r<a.length;r++)s(r)}(),function(){for(var e=0;e<l.length;e++)if(0==l[e].loggedIn&&l.length<=23){var n=document.createElement(\"option\");n.innerText=l[e].name,m.appendChild(n),m.setAttribute(\"size\",l.length-1)}else if(0==l[e].loggedIn&&l.length>22){var a=document.createElement(\"option\");a.innerText=l[e].name,m.appendChild(a),m.setAttribute(\"size\",\"22\")}for(var s=function(e){var n=t[e].subject,a=document.createElement(\"li\"),l=document.createElement(\"p\");l.textContent=\"To: \";var s=document.createElement(\"span\"),o=document.createElement(\"p\"),r=t[e].message,d=document.createElement(\"span\"),i=document.createElement(\"span\"),c=document.createElement(\"div\");n?s.textContent=\"Subject:\"+n:n||(s.textContent=\"(no subject)\"),o.textContent=r,d.textContent=r,i.textContent=\"delete\",t[e].contributors.forEach((function(e){l.textContent+=e})),i.classList.add(\"delete\"),a.classList.add(\"message\",t[e].status),c.classList.add(\"sub_task_invis\"),a.appendChild(s),a.appendChild(d),a.appendChild(i),c.appendChild(l),c.appendChild(o),a.appendChild(c),u.appendChild(a)},o=0;o<t.length;o++)s(o)}()}(),s()?document.getElementById(\"logged_out\").style.display=\"none\":s()||(document.getElementById(\"logged_in\").style.display=\"none\"),!window.localStorage.users){window.localStorage.users=JSON.stringify([{name:\"admin\",password:\"admin\",email:\"admin@gmail.com\",messages:{sentMessages:[],inboxMessages:[]},isAdmin:!0,loggedIn:!1},{name:\"vanya\",password:\"vanya\",email:\"admin@gmail.com\",loggedIn:!1,messages:{sentMessages:[],inboxMessages:[]}},{name:\"nikita\",password:\"nikita\",email:\"admin@gmail.com\",loggedIn:!1,messages:{sentMessages:[],inboxMessages:[]}},{name:\"vova\",password:\"vova\",email:\"admin@gmail.com\",loggedIn:!1,messages:{sentMessages:[],inboxMessages:[]}}])}if(!window.localStorage.tasks){window.localStorage.tasks=JSON.stringify([])}function s(){for(var e=JSON.parse(window.localStorage.users),t=0;t<e.length;t++)if(0!=e[t].loggedIn)return 1==e[t].loggedIn}var o=document.getElementById(\"share_button\"),r=document.getElementById(\"share_link_copy\"),d=document.getElementById(\"share_link_container\"),i=d.getElementsByTagName(\"SPAN\")[0];o.addEventListener(\"click\",(function(){var e,t;d.style.display=\"block\",urlCopied.innerHTML=window.location.href,e=\"urlCopied\",(t=document.createRange()).selectNode(document.getElementById(e)),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)})),r.addEventListener(\"click\",(function(){document.execCommand(\"copy\")})),i.addEventListener(\"click\",(function(){d.style.display=\"none\"}))}]);","extractedComments":[]}